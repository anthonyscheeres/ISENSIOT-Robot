<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>abdrive library: C:/Users/alindsay/Documents/SimpleIDE/My Projects/Library abdrive Dev 170412/libabdrive/abdrive.h File Reference</title>
<link href="libabdrive/html/tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="libabdrive/html/doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">abdrive library
   &#160;<span id="projectnumber">v0.9.84</span>
   </div>
   <div id="projectbrief">Differential servo and encoder drive library for the Parallax ActivityBot</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="libabdrive/html/index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="libabdrive/html/files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="libabdrive/html/files.html"><span>File&#160;List</span></a></li>
      <li><a href="libabdrive/html/globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="libabdrive/html/dir_e6bb53534ac0e427887cf7a94c0c004e.html">C:</a></li><li class="navelem"><a class="el" href="libabdrive/html/dir_8ceffd4ee35c3518d4e8bdc7e638efe8.html">Users</a></li><li class="navelem"><a class="el" href="libabdrive/html/dir_75bfea092181b605b8b819009f61b925.html">alindsay</a></li><li class="navelem"><a class="el" href="libabdrive/html/dir_ff5a3dbccfa11a813a3306abee802957.html">Documents</a></li><li class="navelem"><a class="el" href="libabdrive/html/dir_32b74dcabc46a4862d834c67449559ba.html">SimpleIDE</a></li><li class="navelem"><a class="el" href="libabdrive/html/dir_25f5ce858342980f3547cf44ae6b8409.html">My Projects</a></li><li class="navelem"><a class="el" href="libabdrive/html/dir_0eb6fc82d83948c38fd5be898fc33b6a.html">Library abdrive Dev 170412</a></li><li class="navelem"><a class="el" href="libabdrive/html/dir_e090574ea5bca561d94533da0905a57d.html">libabdrive</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">abdrive.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This library takes care of encoder monitoring and servo signaling, and provides a simple set of functions for making the ActivityBot go certain distances and speeds. <br/>
 <br/>
 For more information, go here: <br/>
 <br/>
 <a href="libabdrive/html/http://learn.parallax.com/activitybot/navigation-basics">http://learn.parallax.com/activitybot/navigation-basics</a> <br/>
 <br/>
  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;simpletools.h&quot;</code><br/>
<code>#include &quot;simpletext.h&quot;</code><br/>
<code>#include &quot;fdserial.h&quot;</code><br/>
</div>
<p><a href="libabdrive/html/abdrive_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a07b12ba1bdb1b1b13ebd3bef5ede83ed"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a07b12ba1bdb1b1b13ebd3bef5ede83ed"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a07b12ba1bdb1b1b13ebd3bef5ede83ed">ABD_RAMP_STEP</a>&#160;&#160;&#160;12</td></tr>
<tr class="memdesc:a07b12ba1bdb1b1b13ebd3bef5ede83ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">This default corresponds 600 ticks/second^2 acceleration and can be adjusted with the drive_setAcceleration function. <br/></td></tr>
<tr class="memitem:afe93eff46069dd3625669a04d7687540"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe93eff46069dd3625669a04d7687540"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#afe93eff46069dd3625669a04d7687540">ABD_SPEED_LIMIT</a>&#160;&#160;&#160;128</td></tr>
<tr class="memdesc:afe93eff46069dd3625669a04d7687540"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default drive_speed limit is +/-128 ticks/second. This can be adjusted at runtime with the drive_setSpeed and drive_setMaxVelocity functions. <br/></td></tr>
<tr class="memitem:ade836e4415de8d665bc6f8b8753bb83d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade836e4415de8d665bc6f8b8753bb83d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#ade836e4415de8d665bc6f8b8753bb83d">ABD_GOTO_SPEED_LIMIT</a>&#160;&#160;&#160;64</td></tr>
<tr class="memdesc:ade836e4415de8d665bc6f8b8753bb83d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This default defines the speed limit when the drive_goto function is called and can be adjusted with the drive_setMaxVelocity function. <br/></td></tr>
<tr class="memitem:aeb433edb20a0016ba38e3d9fc85df9fe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb433edb20a0016ba38e3d9fc85df9fe"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#aeb433edb20a0016ba38e3d9fc85df9fe">ABD_GOTO_RAMP_STEP</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:aeb433edb20a0016ba38e3d9fc85df9fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">This default corresponds 200 ticks/second^2 acceleration and can be adjusted with the drive_setAcceleration function. <br/></td></tr>
<tr class="memitem:a0087de9bc552c3dec2eb110bb01720d5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0087de9bc552c3dec2eb110bb01720d5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a0087de9bc552c3dec2eb110bb01720d5">ABD_NUDGE_SPEED</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:a0087de9bc552c3dec2eb110bb01720d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ticks per second to nudge to the final position do complete a drive_goto call. <br/></td></tr>
<tr class="memitem:a8b41ec6a846567ac652550d839cd7431"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8b41ec6a846567ac652550d839cd7431"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a8b41ec6a846567ac652550d839cd7431">ABD_STOP_50ths</a>&#160;&#160;&#160;5</td></tr>
<tr class="memdesc:a8b41ec6a846567ac652550d839cd7431"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the number of 50ths of a second that the ActivityBot delays when it crosses the zero speed threshold when executing drive_goto calls. <br/></td></tr>
<tr class="memitem:a02dd73c6a32e74f6589197124ac9f4ad"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a02dd73c6a32e74f6589197124ac9f4ad"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a02dd73c6a32e74f6589197124ac9f4ad">_ActivityBot_EE_Start_</a>&#160;&#160;&#160;63418</td></tr>
<tr class="memdesc:a02dd73c6a32e74f6589197124ac9f4ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">ActivityBot EEPROM calibration data start address. <br/></td></tr>
<tr class="memitem:a045ab5b077a90964e170d9dde6cca52e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a045ab5b077a90964e170d9dde6cca52e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a045ab5b077a90964e170d9dde6cca52e">_ActivityBot_EE_End_</a>&#160;&#160;&#160;63418 + 2052</td></tr>
<tr class="memdesc:a045ab5b077a90964e170d9dde6cca52e"><td class="mdescLeft">&#160;</td><td class="mdescRight">ActivityBot EEPROM calibration data end address. <br/></td></tr>
<tr class="memitem:a992777ed76c06c136a5f9ecbe30e883b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a992777ed76c06c136a5f9ecbe30e883b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a992777ed76c06c136a5f9ecbe30e883b">FOR_GOTO</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:a992777ed76c06c136a5f9ecbe30e883b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This constant can be used in place of 0 to tell drive_setAcceleration and drive_setMaxVelocity to set maximum velocity/acceleration for calls to drive_goto. <br/></td></tr>
<tr class="memitem:a33df881875297c2548d9ad762bec5a25"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a33df881875297c2548d9ad762bec5a25"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a33df881875297c2548d9ad762bec5a25">FOR_SPEED</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a33df881875297c2548d9ad762bec5a25"><td class="mdescLeft">&#160;</td><td class="mdescRight">This constant can be used in place of 0 to tell drive_setAcceleration and drive_setMaxVelocity to set maximum velocity/acceleration for calls to drive_speed. <br/></td></tr>
<tr class="memitem:a29e413f6725b2ba32d165ffaa35b01e5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a29e413f6725b2ba32d165ffaa35b01e5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a29e413f6725b2ba32d165ffaa35b01e5">OFF</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a29e413f6725b2ba32d165ffaa35b01e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">OFF can be used in place of zero to enabled parameters in functions like drive_feedback and drive_trim. <br/></td></tr>
<tr class="memitem:ad76d1750a6cdeebd506bfcd6752554d2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad76d1750a6cdeebd506bfcd6752554d2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#ad76d1750a6cdeebd506bfcd6752554d2">ON</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ad76d1750a6cdeebd506bfcd6752554d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">ON can be used in place of a nonzero value to enabled parameters in functions like drive_feedback and drive_trim. <br/></td></tr>
<tr class="memitem:af0bc89249d9fa3c091578c4ff995c61c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af0bc89249d9fa3c091578c4ff995c61c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#af0bc89249d9fa3c091578c4ff995c61c">SIDE_LEFT</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:af0bc89249d9fa3c091578c4ff995c61c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parameter option for <a class="el" href="libabdrive/html/abdrive_8h.html#af79d19f3f3de8a33daab25c5b3a25fad" title="Can be used after drive_gotoMode(OFF) to check if a maneuver has been completed.">drive_gotoStatus(int side)</a>. <br/></td></tr>
<tr class="memitem:a7063d24f8cfdeea4d2d5d9d447b8a11f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7063d24f8cfdeea4d2d5d9d447b8a11f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a7063d24f8cfdeea4d2d5d9d447b8a11f">SIDE_RIGHT</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:a7063d24f8cfdeea4d2d5d9d447b8a11f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parameter option for <a class="el" href="libabdrive/html/abdrive_8h.html#af79d19f3f3de8a33daab25c5b3a25fad" title="Can be used after drive_gotoMode(OFF) to check if a maneuver has been completed.">drive_gotoStatus(int side)</a>. <br/></td></tr>
<tr class="memitem:aad6e431e15c0ef6c48c80fde5c47252a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad6e431e15c0ef6c48c80fde5c47252a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#aad6e431e15c0ef6c48c80fde5c47252a">SIDE_BOTH</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:aad6e431e15c0ef6c48c80fde5c47252a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parameter option for <a class="el" href="libabdrive/html/abdrive_8h.html#af79d19f3f3de8a33daab25c5b3a25fad" title="Can be used after drive_gotoMode(OFF) to check if a maneuver has been completed.">drive_gotoStatus(int side)</a>. <br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7d67fae39eadb3310d0cf4befae10548"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a7d67fae39eadb3310d0cf4befae10548">drive_goto</a> (int distLeft, int distRight)</td></tr>
<tr class="memdesc:a7d67fae39eadb3310d0cf4befae10548"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make each wheel go a particular distance. Recommended for straight forward, backward, turns, pivots, and curves/arcs. This function ramps up to full speed if the distance is long enough. It holds that speed until it needs to ramp down. After ramping down it applies compensation. By default, this function does not return until the maneuver has completed.  <a href="#a7d67fae39eadb3310d0cf4befae10548"></a><br/></td></tr>
<tr class="memitem:aecaf5523f82e6a05ec6b1455a53c993b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#aecaf5523f82e6a05ec6b1455a53c993b">drive_speed</a> (int left, int right)</td></tr>
<tr class="memdesc:aecaf5523f82e6a05ec6b1455a53c993b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set wheel speeds in encoder ticks per second. An encoder tick is 1/64th of a revolution, and makes causes the wheel to roll 3.25 mm.  <a href="#aecaf5523f82e6a05ec6b1455a53c993b"></a><br/></td></tr>
<tr class="memitem:a5a9fc0bbd9bb25e9cd9ccd642e1f1594"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a5a9fc0bbd9bb25e9cd9ccd642e1f1594">drive_getTicks</a> (int *left, int *right)</td></tr>
<tr class="memdesc:a5a9fc0bbd9bb25e9cd9ccd642e1f1594"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the measured number of ticks the have traveled.  <a href="#a5a9fc0bbd9bb25e9cd9ccd642e1f1594"></a><br/></td></tr>
<tr class="memitem:aee8b33fefc9ac28fbab6a0d9a5d4d50a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aee8b33fefc9ac28fbab6a0d9a5d4d50a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#aee8b33fefc9ac28fbab6a0d9a5d4d50a">drive_calibrationResults</a> (void)</td></tr>
<tr class="memdesc:aee8b33fefc9ac28fbab6a0d9a5d4d50a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses the calibration settings to find common circuit mistakes that prevent the ActivityBot from operating normally. This function will either display a success message or information about one or more problems. Make sure to re-run the ActivityBot calibration after fixing each problem. Do not try to continue with any of the ActivityBot tutorials until you have run the calibration, and then run a program with this function call and it displays a message that the ActivitiyBot has been successfully calibrated. <br/>
<br/>
 Instructions: (BlocklyProp) <br/>
 <a href="libabdrive/html/http://learn.parallax.com/blockly/calibrate-your-activitybot">http://learn.parallax.com/blockly/calibrate-your-activitybot</a> <br/>
<br/>
 Instructions: (Propeller C) <br/>
 <a href="libabdrive/html/http://learn.parallax.com/activitybot/test-and-tune-your-activitybot">http://learn.parallax.com/activitybot/test-and-tune-your-activitybot</a>. <br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">More Info</div></td></tr>
<tr class="memitem:a562dc4bdff33fc904a9fbed57c2f7f45"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a562dc4bdff33fc904a9fbed57c2f7f45"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a562dc4bdff33fc904a9fbed57c2f7f45">drive_displayInterpolation</a> (void)</td></tr>
<tr class="memdesc:a562dc4bdff33fc904a9fbed57c2f7f45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Displays the interpolation table stored in EEPROM by the calibration step. For more info, see: <br/>
 <br/>
 <a href="libabdrive/html/http://learn.parallax.com/activitybot/test-and-tune-your-activitybot">http://learn.parallax.com/activitybot/test-and-tune-your-activitybot</a>. <br/>
 <br/></td></tr>
<tr class="memitem:a9f6a375dfd2b1747fd8551a20de8bcf4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a9f6a375dfd2b1747fd8551a20de8bcf4">drive_getTicksCalc</a> (int *left, int *right)</td></tr>
<tr class="memdesc:a9f6a375dfd2b1747fd8551a20de8bcf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the calculated number of ticks the encoders should have traveled.  <a href="#a9f6a375dfd2b1747fd8551a20de8bcf4"></a><br/></td></tr>
<tr class="memitem:af79d19f3f3de8a33daab25c5b3a25fad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#af79d19f3f3de8a33daab25c5b3a25fad">drive_gotoStatus</a> (int side)</td></tr>
<tr class="memdesc:af79d19f3f3de8a33daab25c5b3a25fad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can be used after drive_gotoMode(OFF) to check if a maneuver has been completed.  <a href="#af79d19f3f3de8a33daab25c5b3a25fad"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Settings</div></td></tr>
<tr class="memitem:a08b439d6341eda1d8b5bc42c8968930b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a08b439d6341eda1d8b5bc42c8968930b">drive_encoderPins</a> (int encPinLeft, int encPinRight)</td></tr>
<tr class="memdesc:a08b439d6341eda1d8b5bc42c8968930b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set encoder pins to values other than the default P14 for left encoder and P15 for right encoder. Stores values in EEPROM, so you only need to call this function at the start of one program. Programs that are after that will get the values from EEPROM.  <a href="#a08b439d6341eda1d8b5bc42c8968930b"></a><br/></td></tr>
<tr class="memitem:aa9104d902252208c6c1af4bef0718449"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#aa9104d902252208c6c1af4bef0718449">drive_feedback</a> (int enabled)</td></tr>
<tr class="memdesc:aa9104d902252208c6c1af4bef0718449"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables or disables encoder feedback for speed control.  <a href="#aa9104d902252208c6c1af4bef0718449"></a><br/></td></tr>
<tr class="memitem:a1b4f860d0f24a020a41db40b9ca59de1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a1b4f860d0f24a020a41db40b9ca59de1">drive_gotoMode</a> (int mode)</td></tr>
<tr class="memdesc:a1b4f860d0f24a020a41db40b9ca59de1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the mode (blocking or interruptible) of the drive_goto call. For calls in interruptible mode, sufficient time must be allowed for the maneuver to complete. The drive_gotoStatus function can be polled to find when a maneuver is done.  <a href="#a1b4f860d0f24a020a41db40b9ca59de1"></a><br/></td></tr>
<tr class="memitem:a649164f8fd0939060c2807cf39704b1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a649164f8fd0939060c2807cf39704b1e">drive_servoPins</a> (int servoPinLeft, int servoPinRight)</td></tr>
<tr class="memdesc:a649164f8fd0939060c2807cf39704b1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set servo pins to values other than the default P12 for left servo and P13 for right servo. Stores values in EEPROM, so you only need to call this function at the start of one program. Programs that are after that will get the values from EEPROM.  <a href="#a649164f8fd0939060c2807cf39704b1e"></a><br/></td></tr>
<tr class="memitem:a4b92f4be8adc2c0cbf109702fc7be191"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a4b92f4be8adc2c0cbf109702fc7be191">drive_setAcceleration</a> (int forGotoOrSpeed, int ticksPerSecSq)</td></tr>
<tr class="memdesc:a4b92f4be8adc2c0cbf109702fc7be191"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the acceleration used by either drive_goto or drive_speed.  <a href="#a4b92f4be8adc2c0cbf109702fc7be191"></a><br/></td></tr>
<tr class="memitem:ac528eb22e99e87de691cc10643c668d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#ac528eb22e99e87de691cc10643c668d6">drive_setMaxSpeed</a> (int speed)</td></tr>
<tr class="memdesc:ac528eb22e99e87de691cc10643c668d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modifies the default maximum top speed for use with encoders. The default is 128 ticks/second = 2 revolutions per second (RPS). This is the full speed that drive_distance and drive_goto use. This value can currently be reduced, but not increased. Speeds faster than 128 ticks per second are "open loop" meaning the control system does not use the encoders to correct distance/speed.  <a href="#ac528eb22e99e87de691cc10643c668d6"></a><br/></td></tr>
<tr class="memitem:a51d8179a773a0c23327a005068e21e7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a51d8179a773a0c23327a005068e21e7b">drive_setMaxVelocity</a> (int forGotoOrSpeed, int ticksPerSec)</td></tr>
<tr class="memdesc:a51d8179a773a0c23327a005068e21e7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the maximum velocity used by either drive_goto or drive_speed.  <a href="#a51d8179a773a0c23327a005068e21e7b"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Deprecated</div></td></tr>
<tr class="memitem:a0cbe3e67e2f7419ef507fa76ab618bc0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a0cbe3e67e2f7419ef507fa76ab618bc0">drive_setRampStep</a> (int stepsize)</td></tr>
<tr class="memdesc:a0cbe3e67e2f7419ef507fa76ab618bc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overrides the default 12 ticks/second per 50th of a second for ramping.  <a href="#a0cbe3e67e2f7419ef507fa76ab618bc0"></a><br/></td></tr>
<tr class="memitem:afd1c0e801a53e563de711858a2ca9fec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#afd1c0e801a53e563de711858a2ca9fec">drive_rampStep</a> (int left, int right)</td></tr>
<tr class="memdesc:afd1c0e801a53e563de711858a2ca9fec"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function allows your code to ask for a speed repeatedly in a loop, but each time your code asks for that speed, it takes a step toward the speed. This helps cushion sudden maneuvers in sensor navigation, where the conditions might change more rapidly than you would want your ActivityBot's speed to change. (Note: This is now built into drive_speed.)  <a href="#afd1c0e801a53e563de711858a2ca9fec"></a><br/></td></tr>
<tr class="memitem:a00b140a47444c95d4689fa96285db3f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a00b140a47444c95d4689fa96285db3f9">drive_ramp</a> (int left, int right)</td></tr>
<tr class="memdesc:a00b140a47444c95d4689fa96285db3f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function ramps up to a given speed and blocks execution until the speed is reached. In practice, a call to drive_speed followed by a pause to reach the desired speed will have the same affect but does not have practical applications.  <a href="#a00b140a47444c95d4689fa96285db3f9"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="member-group"></a>
Private (used by abdrive library)</h2></td></tr>
<tr class="memitem:ae2de3e654a929e0f97cab74380c34a06"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae2de3e654a929e0f97cab74380c34a06"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_ActivityBot_EE_Pins_</b>&#160;&#160;&#160;12</td></tr>
<tr class="memitem:ac71a273f62ff123a8bad7354638d80fc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac71a273f62ff123a8bad7354638d80fc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_ActivityBot_EE_Trims_</b>&#160;&#160;&#160;28</td></tr>
<tr class="memitem:a6d261f25ed1ac9dc9255a1b22d154781"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6d261f25ed1ac9dc9255a1b22d154781"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_ActivityBot_EE_Left_</b>&#160;&#160;&#160;52</td></tr>
<tr class="memitem:a3592399e37eb6b181b50aba01aa68fe4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3592399e37eb6b181b50aba01aa68fe4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_ActivityBot_EE_Right_</b>&#160;&#160;&#160;1052</td></tr>
<tr class="memitem:a0b25a8857e66e34f36046940e71ac42a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b25a8857e66e34f36046940e71ac42a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ABD_L</b>&#160;&#160;&#160;0</td></tr>
<tr class="memitem:a5221a531bfd45bed6daabbafa3c54f0a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5221a531bfd45bed6daabbafa3c54f0a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ABD_R</b>&#160;&#160;&#160;1</td></tr>
<tr class="memitem:abaa60c7bc5a08fcaaa693fa6b65cce58"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abaa60c7bc5a08fcaaa693fa6b65cce58"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ABD_B</b>&#160;&#160;&#160;2</td></tr>
<tr class="memitem:a8c74c5994ded3ad13efd7acbca51d5ab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8c74c5994ded3ad13efd7acbca51d5ab"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ABD_T</b>&#160;&#160;&#160;3</td></tr>
<tr class="memitem:a6efa61d7ee27a26c5559a36ab946877a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6efa61d7ee27a26c5559a36ab946877a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ABD_FOR_BOTH</b>&#160;&#160;&#160;2</td></tr>
<tr class="memitem:aa960cbbdf39d77dd35ffb9ac830a79f9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa960cbbdf39d77dd35ffb9ac830a79f9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AB_RIGHT</b>&#160;&#160;&#160;1</td></tr>
<tr class="memitem:a23d6362229b1eb1c1c90489b3d162052"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a23d6362229b1eb1c1c90489b3d162052"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AB_LEFT</b>&#160;&#160;&#160;-1</td></tr>
<tr class="memitem:ad6d9ce617d7a756ede247a15b21dd2d9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad6d9ce617d7a756ede247a15b21dd2d9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#ad6d9ce617d7a756ede247a15b21dd2d9">AB_FORWARD</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ad6d9ce617d7a756ede247a15b21dd2d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Text. <br/></td></tr>
<tr class="memitem:a77d2f6347276fc32faa9e14d70857014"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a77d2f6347276fc32faa9e14d70857014"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libabdrive/html/abdrive_8h.html#a77d2f6347276fc32faa9e14d70857014">AB_BACKWARD</a>&#160;&#160;&#160;-1</td></tr>
<tr class="memdesc:a77d2f6347276fc32faa9e14d70857014"><td class="mdescLeft">&#160;</td><td class="mdescRight">Text. <br/></td></tr>
<tr class="memitem:a651992597678581469204d58c07b8f85"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a651992597678581469204d58c07b8f85"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>monitor_start</b> (int monitorReps)</td></tr>
<tr class="memitem:a977f2348c2737bf2feb22a849e4890fe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a977f2348c2737bf2feb22a849e4890fe"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>monitor_stop</b> (void)</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This library takes care of encoder monitoring and servo signaling, and provides a simple set of functions for making the ActivityBot go certain distances and speeds. <br/>
 <br/>
 For more information, go here: <br/>
 <br/>
 <a href="libabdrive/html/http://learn.parallax.com/activitybot/navigation-basics">http://learn.parallax.com/activitybot/navigation-basics</a> <br/>
 <br/>
 </p>
<dl class="section author"><dt>Author</dt><dd>Andy Lindsay</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (C) Parallax, Inc. 2017. All Rights MIT Licensed.</dd></dl>
<dl class="section user"><dt>Core Usage</dt><dd>A single additional core takes care of ActivityBot encoder monitoring, control system algorithm execution and servo control.</dd></dl>
<dl class="section user"><dt>EEPROM Usage</dt><dd>Reads from addresses 63418..65470.</dd></dl>
<dl class="section user"><dt>Memory Models</dt><dd>Use with CMM.</dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.9.82 <ul>
<li>Move most control logic into the control system cog. </li>
<li>Arc support with drive_goto(left, right), where left != right. </li>
<li>Background target calculation for better acceleration/deceleration. </li>
<li>drive_acceleration(forGotoOrSpeed, ticksPerSecondSquared). </li>
<li>drive_ramp can be interrupted with a new direction. </li>
<li>drive_goto can be interrupted after calling drive_gotoMode(0). </li>
<li>drive_gotoStatus added for monitoring when a maneuver is finished. </li>
<li>All acceleration (a.k.a. ramping) is done in the background. </li>
<li>Sampling rate increased from 400 to 800 Hz. </li>
<li>Default speed for drive_goto set to 64 ticks per second with a default acceleration of 200 ticks per second. </li>
<li>Default speed limit for drive_speed is 128 ticks per second, with a default acceleration of 600 ticks/second squared. </li>
<li>Trim support was removed.</li>
</ul>
</dd>
<dd>
0.5.6 <ul>
<li>Adjust drive_servoPins and drive_encoderPins documentation.</li>
</ul>
</dd>
<dd>
0.5.4 <ul>
<li>drive_getTicksCalc </li>
<li>drive_getTicks </li>
<li>drive_open </li>
<li>drive_encoderPins </li>
<li>drive_servoPins </li>
<li>Values outside interpolation table ranges do not result in rotation halt. </li>
<li>Turning off feedback now allows full servo speed operation</li>
</ul>
</dd>
<dd>
0.5.1 <ul>
<li>Trim enabled by default. </li>
<li>Clear trim settings during calibration. (v0.5.1) </li>
<li>Make trim for a direction mutually exclusive to one side. (v0.5.1)</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Help Improve this Library</dt><dd>Please submit bug reports, suggestions, and improvements to this code to <a href="#" onclick="location.href='mai'+'lto:'+'edi'+'to'+'r@p'+'ar'+'all'+'ax'+'.co'+'m'; return false;">edito<span style="display: none;">.nosp@m.</span>r@pa<span style="display: none;">.nosp@m.</span>ralla<span style="display: none;">.nosp@m.</span>x.co<span style="display: none;">.nosp@m.</span>m</a>. </dd></dl>
</div><h2>Function Documentation</h2>
<a class="anchor" id="a08b439d6341eda1d8b5bc42c8968930b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drive_encoderPins </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>encPinLeft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>encPinRight</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set encoder pins to values other than the default P14 for left encoder and P15 for right encoder. Stores values in EEPROM, so you only need to call this function at the start of one program. Programs that are after that will get the values from EEPROM. </p>
<p>IMPORTANT This function should be called first, before any adbrive control functions (drive_speed, drive_goto, etc).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encPinLeft</td><td>I/O pin number for the left encoder signal connection.</td></tr>
    <tr><td class="paramname">encPinRight</td><td>I/O pin number for the right encoder signal connection. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa9104d902252208c6c1af4bef0718449"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drive_feedback </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>enabled</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables or disables encoder feedback for speed control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">enabled</td><td>Set to 1 to enable feedback (default) or 0 to disable. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5a9fc0bbd9bb25e9cd9ccd642e1f1594"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drive_getTicks </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the measured number of ticks the have traveled. </p>
<p>The system samples the encoders at 400 times per second.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*left</td><td>Pointer to variable to receive the measured left distance.</td></tr>
    <tr><td class="paramname">*right</td><td>Pointer to variable to receive the measured right distance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9f6a375dfd2b1747fd8551a20de8bcf4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drive_getTicksCalc </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the calculated number of ticks the encoders should have traveled. </p>
<p>The system samples the encoders at 400 times per second.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*left</td><td>Pointer to variable to receive the calculated left distance.</td></tr>
    <tr><td class="paramname">*right</td><td>Pointer to variable to receive the calculated right distance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7d67fae39eadb3310d0cf4befae10548"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drive_goto </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>distLeft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>distRight</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make each wheel go a particular distance. Recommended for straight forward, backward, turns, pivots, and curves/arcs. This function ramps up to full speed if the distance is long enough. It holds that speed until it needs to ramp down. After ramping down it applies compensation. By default, this function does not return until the maneuver has completed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">distLeft</td><td>Left wheel distance in ticks (spoke to space and space to spoke transitions). Each "tick" transition is 1/64th of a wheel revolution, causing the wheel to roll approximately 3.25 mm.</td></tr>
    <tr><td class="paramname">distRight</td><td>Right wheel distance in ticks. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1b4f860d0f24a020a41db40b9ca59de1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drive_gotoMode </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the mode (blocking or interruptible) of the drive_goto call. For calls in interruptible mode, sufficient time must be allowed for the maneuver to complete. The drive_gotoStatus function can be polled to find when a maneuver is done. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>interruptible (0) or blocking (1). By default the drive_goto function blocks until the maneuver has completed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af79d19f3f3de8a33daab25c5b3a25fad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int drive_gotoStatus </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>side</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Can be used after drive_gotoMode(OFF) to check if a maneuver has been completed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">side</td><td>with options of SIDE_LEFT, SIDE_RIGHT, or SIDE_BOTH.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value that corresponds to the 0, 1, 2 status of a maneuver </dd></dl>

</div>
</div>
<a class="anchor" id="a00b140a47444c95d4689fa96285db3f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drive_ramp </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function ramps up to a given speed and blocks execution until the speed is reached. In practice, a call to drive_speed followed by a pause to reach the desired speed will have the same affect but does not have practical applications. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">left</td><td>Left wheel speed in ticks per second.</td></tr>
    <tr><td class="paramname">right</td><td>Left wheel speed in ticks per second. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afd1c0e801a53e563de711858a2ca9fec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drive_rampStep </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function allows your code to ask for a speed repeatedly in a loop, but each time your code asks for that speed, it takes a step toward the speed. This helps cushion sudden maneuvers in sensor navigation, where the conditions might change more rapidly than you would want your ActivityBot's speed to change. (Note: This is now built into drive_speed.) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">left</td><td>Left wheel speed in ticks per second.</td></tr>
    <tr><td class="paramname">right</td><td>Left wheel speed in ticks per second. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a649164f8fd0939060c2807cf39704b1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drive_servoPins </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>servoPinLeft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>servoPinRight</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set servo pins to values other than the default P12 for left servo and P13 for right servo. Stores values in EEPROM, so you only need to call this function at the start of one program. Programs that are after that will get the values from EEPROM. </p>
<p>IMPORTANT This function should be called first, before any adbrive control functions (drive_speed, drive_goto, etc).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">servoPinLeft</td><td>I/O pin number for the left servo signal connection.</td></tr>
    <tr><td class="paramname">servoPinRight</td><td>I/O pin number for the right servo signal connection. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4b92f4be8adc2c0cbf109702fc7be191"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drive_setAcceleration </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>forGotoOrSpeed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ticksPerSecSq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the acceleration used by either drive_goto or drive_speed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">forGotoOrSpeed</td><td>can be set to FOR_SPEED (0) or FOR_GOTO (1).</td></tr>
    <tr><td class="paramname">ticksPerSecSq</td><td>The ticks per second squared value to set the acceleration speed and goto calls use. The default is 600 for drive_speed and 200 for drive_goto. Use increments of 50. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac528eb22e99e87de691cc10643c668d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drive_setMaxSpeed </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>speed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modifies the default maximum top speed for use with encoders. The default is 128 ticks/second = 2 revolutions per second (RPS). This is the full speed that drive_distance and drive_goto use. This value can currently be reduced, but not increased. Speeds faster than 128 ticks per second are "open loop" meaning the control system does not use the encoders to correct distance/speed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">speed</td><td>Maximum cruising speed for drive_distance and drive_goto. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a51d8179a773a0c23327a005068e21e7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drive_setMaxVelocity </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>forGotoOrSpeed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ticksPerSec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the maximum velocity used by either drive_goto or drive_speed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">forGotoOrSpeed</td><td>can be set to FOR_SPEED (0) or FOR_GOTO (1).</td></tr>
    <tr><td class="paramname">ticksPerSec</td><td>The ticks per second value that limits the top velocity, regardless of what calls to drive_speed ask for. The default is 128 for drive_speed and 64 for drive_goto. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0cbe3e67e2f7419ef507fa76ab618bc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drive_setRampStep </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stepsize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overrides the default 12 ticks/second per 50th of a second for ramping. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stepsize</td><td>The size of each step in ticks/second to change every 50th of a second </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aecaf5523f82e6a05ec6b1455a53c993b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drive_speed </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set wheel speeds in encoder ticks per second. An encoder tick is 1/64th of a revolution, and makes causes the wheel to roll 3.25 mm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">left</td><td>Left wheel speed in ticks per second.</td></tr>
    <tr><td class="paramname">right</td><td>Left wheel speed in ticks per second. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 14 2017 12:22:21 for abdrive library by &#160;<a href="libabdrive/html/http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
